## 5. 인터페이스 구현

### 1. 인터페이스 설계 확인

#### 1. 내외부 모듈 간 공통 기능 및 데이터 인터페이스 확인

- 인터페이스 산출물

  - 인터페이스 설계서
    - 시스템 인터페이스 설계서
      - 시스템 인터페이스 목록
      - 시스템 인터페이스 정의서 (인터페이스 id별 별개 정의서)
    - 상세 기능별 인터페이스 명세서

- 인터페이스 설계서 

  - 개념

    - 이기종 시스템, 컴포넌트 간 데이터 교환, 처리 -> 교환 데이터, 업무, 송수신 주체 정의 문서
    - 인터페이스 현황 파악 -> 목록, 상세 데이터 명세, 기능 세부 인터페이스 정보 정의 문서

  - 상세 기능별 인터페이스 명세서 주요 항목 : **아명오개 전후파반**

    |    주요 항목    |                 설명                  |
    | :-------------: | :-----------------------------------: |
    |  인터페이스 ID  | 식별자 -> 업무 분류 코드 + 연속 번호  |
    |  인터페이스 명  |               고유 명칭               |
    |  오퍼레이션 명  |            세부 동작 명칭             |
    | 오퍼레이션 개요 |    세부 동작 프로세스 -> 세부 설명    |
    |    사전 조건    | 세부 동작 작동 -> 사전 완료 조건 기술 |
    |    사후 조건    |  세부 동작 작동 이후 발생 조건 기술   |
    |    파라미터     |             구성 항목 값              |
    |     반환 값     |                                       |

#### 2. 내외부 모듈 연계를 위한 인터페이스 기능 식별

- 내외부 모듈 연계 방법
  - EAI (Enterprise Application Integration) : **포허 메하**
    - 포인트 투 포인트, 허브 앤 스포크, 메시지 버스, 하이브리드

### 2. 인터페이스 기능 구현

#### 1. 인터페이스 기능 구현 정의

#### 2. 인터페이스 기능 구현

- 사전 정의 기능 구체 분석

  - 필요 항목 데이터 전달

    |          기능          |                          분석 결과                           |
    | :--------------------: | :----------------------------------------------------------: |
    | 인터페이스 데이터 전송 | REST 방식 전달 전송<br />DB 커넥션 -> DB 프로시저, 트리거 활용 전송 |
    | 인터페이스 데이터 수신 |           데이터 수신 후 형식 점검, 규칙 사전 정의           |
    | 인터페이스 데이터 파싱 |            객체 : 파서 이용 파싱, 테이블에서 선택            |
    | 인터페이스 데이터 검증 |         세부 데이터 포맷, 논리적 제약 조건 오류 검사         |
    |     후속 기능 수행     |          세부 데이터 -> 수신 시스템 정의 동작 진행           |

- 인터페이스 기능 구현 기술

  - JSON (Javascript Object Notation)

    - 속성-값 쌍 (Attribute-Value Pair) 데이터 오브젝트 전달 목적 사용 개방형 표준 포맷

    - AJAX에서 사용, XML 대체

    - 언어 독립형 데이터 포맷

    - 표현 자료형

      | 자료형 |                             사례                             |
      | :----: | :----------------------------------------------------------: |
      |  숫자  |                정수, 실수 (고정, 부동소수점)                 |
      | 문자열 |                      "", 유니코드 문자                       |
      |  배열  |      [], 기본 자료형, 배열,객체<br />, 구분, 순서 의미       |
      |  객체  | 이름/값 쌍 조합, {}<br />이름 : 문자열 -> '', 기본 자료형<br />, 구별, 순서 의미 X |

  - XML (Extensible Markup Language)

    - W3C 개발, 웹 브라우저 호환 문제, SGML 복잡 해결 -> 다목적 마크업 언어
    - 송수신 시스템 간 연계 편의성 -> 전송 데이터 구조 동일 형태 정의
    - 인간, 기계 모두 이해 가능한 텍스트 -> 마크업 포맷 정의 메타언어
    - 사용자 직접 문서 태그, 다른 사람 정의 태그 가능

  - AJAX (Asynchronous Javascript And XML, 비동기 통신 기법)

    - XMLHttpRequest 객체 이용 -> 페이지 일부분 데이터 로드, 웹 브라우저 ~ 웹 서버 간 메서드 -> 데이터 전송
    - HTML만으로 어려운 다양한 작업 웹페이지 구현 
    - DOM (Document Object Model) : XML 문서 트리 구조 형태 접근 API, 중립적 구조화 문서 표현

  - REST (Representational State Transfer)

    - 분산 하이퍼미디어 환경 -> 자원 존재/상태 정보 정보 => 표준화된 HTTP 메서드로 주고받는 웹 아키텍처

- 인터페이스 구현

  - 데이터 통신 사용
  - 개체 (Entity) 사용
    - 이벤트 -> 테이블에 내용 기록
    - DB 커넥션 -> 수신 테이블과 연계 구현
    - 프로시저, 트리거, 배치 작업 (Batch Job) -> 수신 테이블로 데이터 전송

#### 3. 인터페이스 예외 처리 방안

#### 4. 인터페이스 보안 기능 적용

- 인터페이스 보안 구현 방안

  - 시큐어 코딩 가이드 : **입보시 에코캡아**

    |       적용 대상       |                          보안 약점                           |                          대응 방안                           |
    | :-------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
    | 입력데이터 검증, 표현 |        입력값 검증 누락, 부적절 검증, 잘못 형식 지정         | 입력 데이터 -> 유효성 검증 체계 수립<br />실패 -> 처리 기능 설계, 구현 |
    |       보안 기능       |                    보안 기능 부적절 구현                     |                  인증/접근 통제, 권한 관리                   |
    |     시간 및 상태      | 동시 수행 지원 병렬 시스템<br />프로세스 동작 환경 -> 시간, 상태 부적절 관리 | 공유 자원 접근 직렬화<br />병렬 실행 가능 프레임워크 사용<br />블록문 내에서만 재귀 함수 호출 |
    |       에러 처리       |  에러 미/불충분 처리 <br />-> 에러 메시지 : 중요 정보 포함   |                    하지 않게 설계 및 구현                    |
    |       코드 오류       |                                                              | 코드 규칙 도출<br />-> 검증 가능한 스크립트 구성,<br />경고 순위 최상향 조정<br />=> 경고 메시지 코드 제거 |
    |        캡슐화         |             기능성 불충분 캡슐화 -> 데이터 누출              | 디버거 코드 제거<br />필수정보 외 클래스 내 프라이빗 접근자 지정 |
    |       API 오용        |         의도된 사용 반하는 방법, 보안 취약 API 사용          |  개발 언어별 취약 API 확보<br />취약 API 검출 프로그램 사용  |

  - DB 보안 적용

    - DB 암호화 알고리즘 : **대비해**

      |   구분    |               설명                |
      | :-------: | :-------------------------------: |
      |  대칭 키  |      암/복호화 같은 암호 키       |
      | 비대칭 키 |         공개 키, 비밀 키          |
      |   해시    | 해시값 -> 원래 입력값 X => 일방향 |

    - DB 암호화 기법

      |     구분     |                             설명                             |
      | :----------: | :----------------------------------------------------------: |
      |   API 방식   | 앱 레벨에서 암호 모듈 (API) 적용 -> 앱 수정 방식<br />앱 서버에 암/복호화, 정책/키 관리 -> 부하 발생 |
      | Plug-in 방식 | 암/복호화 모듈 -> DB 서버에 설치<br />DB 서버에 암/복호화, 정책/키 관리 -> 부하 발생 |
      |   TDE 방식   | DB 서버 DMBS 커널 자체적으로 암/복호화 수행<br />내장 암호화 기능 이용 (TDE : Transparent Data Encryption) |
      | Hybrid 방식  |          API + Plug-in<br />DB, 앱 서버로 부하 분산          |

### 3. 인터페이스 구현 검증

#### 1. 인터페이스 구현 검증

- 인터페이스 구현 검증 도구 종류 : **엑스피 엔셀웨**

  |   도구   |                             설명                             |
  | :------: | :----------------------------------------------------------: |
  |  xUnit   | 자바, C++, .Net 다양 언어 지원 단위테스트 프레임워크<br />서로 다른 구성 원소(단위) 테스트 도구 |
  |   STAF   | 다양한 환경 테스트 프레임워크<br />분산 환경 -> 데몬 사용 => 테스트, 통합, 자동화 |
  | FitNesse | 웹 기반 테스트 설계/실행/결과 확인<br />테스트 케이스 테이블 -> 자동으로 테스트 |
  |   NTAF   |         FitNesse 협업 + STAF 재사용, 확장성 -> Naver         |
  | Selenium |      웹 앱 테스트 프레임워크, 스크립트 언어 학습 필요 X      |
  |  watir   | 루비 기반 웹 앱 테스트 프레임워크,  모든 언어 테스트, 호환성 테스트 |

- 인터페이스 감시 도구

  |        도구        |                             설명                             |
  | :----------------: | :----------------------------------------------------------: |
  | 스카우터 (SCOUTER) | 앱 모니터링, DB Agent -> 오픈 소스 DB 모니터링, 인터페이스 감시 기능 |
  | 제니퍼 (Jennifer)  | 전 생애주기 단계 동안 성능 모니터링, 분석 -> APM 소프트웨어  |

  

#### 2. 인터페이스 오류 처리 확인 및 보고서 작성

- 인터페이스 오류 처리 방법 : **화로테**
  - 사용자 화면에서 오류 인지 : 실시간
  - 인터페이스 오류 로그 생성 : 자세한 내역, 관리자/운영자
  - 인터페이스 관련 테이블에 오류 사항 기록 : 트랜잭션 기록 별도 보관

