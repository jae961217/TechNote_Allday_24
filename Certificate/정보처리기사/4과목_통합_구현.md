[TOC]

## 4. 통합 구현

### 1. 연계 데이터 구성

#### 1. 연계 요구사항 분석

- 연계 요구사항 분석 개념

  - 요구사항 분석 기법 : **인체설델브**

    |   주요 내용   |                설명                 |
    | :-----------: | :---------------------------------: |
    |    인터뷰     |  사용자 면담 -> 연계 요구사항 도출  |
    |  체크리스트   |              기준 점검              |
    |    설문지     |                                     |
    |  델파이 기법  |     각 분야 전문가 경험적 지식      |
    | 브레인 스토밍 | 자발적으로 자연스럽게 아이디어 제시 |

  - 요구사항 분석 참고문서 : **코테응시**

    |      주요 내용       |                             설명                             |
    | :------------------: | :----------------------------------------------------------: |
    |     코드 정의서      |        공통 코드 정의서 (코드 ID, 코드명, 코드 설명)         |
    |    테이블 정의서     | 데이터 모델링 정의서, 테이블/프로세스 연관도, 테이블별 컬럼 속성 정의서 |
    | 응용 프로그램 구성도 | 애플리케이션 메뉴, 화면 설계, 데이터 발생 시점, 주기, 발생 패턴 |
    |    시스템 구성도     |     하드/소프트웨어, 네트워크 -> 연계 대상 시스템 구성도     |

- 연계 요구사항 분석 참고문서

  - 개체 (Entity) 정의서 : DB 개념 모델링 단계에서 도출한 개체 타입, 속성, 식별자 정보 개괄적 명세 정의서

  - 인터페이스 명세서 구성요소 : **인최 크시데**

    |            주요 항목             |                             설명                             |
    | :------------------------------: | :----------------------------------------------------------: |
    |          인터페이스 ID           |        식별자, 명명 표준 + 업무 분류 코드, 연속 번호         |
    |          최대 처리 횟수          |      단위 시간 당 처리 가능한 인터페이스 최대 수행 건수      |
    |    데이터 크기 (평균 / 최대)     |           1회 처리 시 소요 데이터 평균, 최대 크기            |
    | 시스템 정보 (송수신 시스템 각각) | 시스템/업무 명, 서비스명/프로그램 ID, 연계 방식, 담당자/연락처 |
    | 데이터 정보 (송수신 시스템 각각) | 번호, 필드, 식별자 여부, 데이터 타입/크기, NULL 허용 여부<br />항목 설명, 조건, 매핑 규칙, 총 길이, 추출 조건/SQL |

- 연계 시스템 구성

  - 송신 시스템, 수신 시스템
  - 중계 서버 : 송신 ~ 수신 사이 데이터 송수신, 연계 데이터 송수신 현황 모니터링, 연계 데이터 보안 강화 지원

#### 2. 연계 데이터 식별 및 표준화

- 연계 데이터 표준화

  - 인터페이스 시스템 : **공개종**

    |     구성      |                      설명                       |
    | :-----------: | :---------------------------------------------: |
    | 데이터 공통부 |                    표준 항목                    |
    | 데이터 개별부 | 송수신 시스템 -> 업무 처리에 필요한 데이터 포함 |
    | 데이터 종료부 |   전송 데이터 끝 표시 문자 포함 -> 종료 표시    |

  - 송수신 전문 구성 : **공전시거 개데종**

    - 전문 공통부 (고정)
      - 전문 길이 (10 Byte)
      - 시스템 공통 (246 Byte)
      - 거래 공통 (256 Byte)
    - 전문 개별부 (가변)
      - 데이터 (n Byte)
    - 전문 종료부 (고정)
      - 전문 종료 (2 Byte)

### 2. 연계 메커니즘 구성

#### 1. 연계 메커니즘 정의

- 연계 방식

  - 주요 연계 기술

    - 직접 연계

      |            연계 기술             |                             설명                             |
      | :------------------------------: | :----------------------------------------------------------: |
      |             DB 링크              | DB 제공 DB 링크 객체 이용<br />수신 시스템 -> DB 링크 생성, 송신 시스템 -> DB 링크 직접 참조 |
      |             DB 연결              | 수신 시스템 WAS -> 송신 시스템 DB로 연결하는 DB 커넥션 풀 생성<br />연계 프로그램 -> DB 커넥션 풀 명 이용 |
      |          API / Open API          | 송신 시스템 DB -> 데이터 읽어서 제공하는 애플리케이션 프로그래밍 인터페이스 프로그램<br />API명, 입출력 파라미터 정보 필요 |
      | JDBC<br />(Java DB Connectivity) | 수신 시스템 프로그램 -> JDBC 드라이버 이용, 송신 시스템 DB 연결<br />DBMS 유형 / 서버 IP / Port, DB 인스턴스 정보 필요<br />자바에서 DB 접속하도록 자바 API 사용 |
      |           하이퍼 링크            |                 다른 부분이나 페이지로 이동                  |

      - 커넥션 풀 : DB 연결 커넥션 미리 제작 -> 풀 (Pool) 속 저장, 필요할 때 커넥션 풀에서 가져와 쓰고 다시 풀에 반환

      - API (Application Programming Interface)

        - OS, 프로그래밍 언어가 제공하는 기능을 제어 가능하게 규격을 정해놓은 인터페이스

      - JDBC

        |      구성 요소      |                             설명                             |
        | :-----------------: | :----------------------------------------------------------: |
        |  Java Application   |        네이티브 자바, 자바 서블릿, 자바 응용 프로그램        |
        |      JDBC API       | 자바 응용 프로그램 -> DB 연결, 데이터 제어하도록 <br />DB 연결, 제어를 위한 인터페이스, 클래스 제공 |
        | JDBC Driver Manager | 자바 응용 프로그램 사용 DB에 맞는 드라이버 검색, 연결, 초기화 수행 |
        |     JDBC Driver     | 자바 프로그램 요청 -> DBMS가 이해하도록 프로토콜 변환 : 클라이언트 사이드 어댑터 |

    - 간접 연계

      |     연계 기술     |                             설명                             |
      | :---------------: | :----------------------------------------------------------: |
      | 연계 솔루션 (EAI) | 서로 다른 플랫폼, 앱 간 정보 전달, 연계, 통합 가능 솔루션<br />송수신 시스템 설치 어댑처 이용 |
      | Web Service / ESB | 웹 서비스 설명된 WSDL, SOAP 프로토콜 이용 -> 시스템 간 연계  |
      |   소켓 (Socket)   |     소켓 생성 -> 포트 할당, 클라이언트 요청 연결 -> 통신     |

      - 소켓 
        - 네트워크 경유 프로세스 간 통신 접속점, IP 주소 + Port 넘버 -> 서버 ~ 클라이언트 프로그램 통신 가능하도록

### 3. 내외부 연계 모듈 구현

#### 1. 연계 모듈 구현 환경 구성 및 개발

- EAI 방식 (Enterprise Application Integration)

  - 개념

    - 서로 다른 플랫폼, 앱 간 정보 전달, 연계, 통합 가능하게 하는 솔루션
    - 각 비즈니스 간 통합, 연계성 증대 -> 효율성, 확장성 증가

  - 구성요소

    |      구성 요소      |                             설명                             |
    | :-----------------: | :----------------------------------------------------------: |
    |     EAI 플랫폼      | 이기종 시스템 간 앱 상호 운영<br />신뢰성 있는 전송을 위한 메시지 큐, 트랜잭션 미들웨어 기능 수행<br />대규모 사용자 환경 지원 -> 유연성, 확장성 보장 |
    |       어댑터        | 다양한 패키지 앱, 기업 -> 자체 개발 앱 연결 => EAI 핵심 장치, 데이터 입출력 도구 |
    |       브로커        | 시스템 상호 간 데이터 전송 시 데이터 포맷, 코드 변환 솔루션  |
    |      메시지 큐      | 비동기 메시지 사용 -> 다른 응용 프로그램 사이 데이터 송수신 기술 |
    | 비즈니스 워크플로우 |           미리 정의된 워크플로우에 따라 업무 처리            |

  - EAI 구축 유형 : **포허 메하**

    |             구축 유형             |                             설명                             |
    | :-------------------------------: | :----------------------------------------------------------: |
    |         포인트 투 포인트          | 가장 기초적 -> 1:1 단순 통합<br />장점 : 솔루션 구매 X -> 개발자 간 소통으로 통합 가능 |
    | 허브 앤 스포크<br />(Hub & Spoke) | 단일 접점 허브 시스템 -> 데이터 전송 : 중앙 집중식<br />허브 장애 시 전체 장애 |
    |            메시지 버스            | 앱 사이 미들웨어 (버스) 연계 -> 미들웨어 통합 방식<br />확장성, 대용량 데이터 처리 가능 |
    |            하이브리드             | 그룹 내 : 허브 앤 스포크 / 그룹 간 : 메시지 버스<br />그룹 내 환경에 맞는 작업 |

- ESB 방식 (Enterprise Service Bus)

  - 서로 다른 플랫폼, 앱 간 하나 시스템으로 관리 운영하도록 서비스 중심 통합 지향 아키텍처
  - 미들웨어 (Bus) 중심 -> 프로토콜 호환하도록 느슨한 결합 방식으로 지원

- 웹 서비스 방식

  - WSDL (Web Services Description Language)
    - 웹 서비스 방식 연계 모듈 구현 시, 웹 서비스 상세 정보 기술 XML 형식 언어
    - SOAP XML 스키마 결합 -> 웹 서비스 제공
  - SOAP (Simple Object Access Protocol)
    - HTTP, HTTPS, SMTP 통해서 XML 기반 데이터 송수신 프로토콜, 웹 서비스 방식, 레스트 풀 (RESTful)로 대체 가능
  - UDDI (Universal Description, Discovery and Integration)
    - WSDL (웹 서비스 정보) 등록, 검색하기 위한 저장소 -> 공개적 접근, 검색 가능 레지스트리, 표준
  - REST (Representational State Transfer)
    - HTTP URL -> 자원 명시, HTTP 메서드 -> 생성, 조회, 갱신, 삭제 명령 적용 => 분산 하이퍼미디어 시스템 위한 소프트웨어 아키텍처